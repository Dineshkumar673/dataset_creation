# -*- coding: utf-8 -*-
"""interpolation.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1T3bDm9HGtn4346vieCwteyex_ZDKRCvk
"""

import cv2
import numpy as np
import os
import pandas as pd 

from mediapipe.python.solutions import drawing_utils as mp_drawing
from mediapipe.python.solutions import pose as mp_pose
from mediapipe.python.solutions import hands as mp_hands

char_dir = "/mnt/fs/Synthetic_dataset_creation/Absdiff_dataset_ver_2/Dataset/segmented_dataset/Arya_black_chudi_dataset_0000/"

char_dir_lst = os.listdir(char_dir)
char_dir_lst.sort()
signdict={}
pose_lndmarkdict={}
hand_lndmarkdict_right={}
hand_lndmarkdict_left={}
dest_dir = "/mnt/fs/missing_images_ver_2/Arya_black_chudi_0000/"

for aug_dir in char_dir_lst:
  aug_dir_lst = os.listdir(os.path.join(char_dir,aug_dir))
  aug_dir_lst.sort()
  os.mkdir(os.path.join(dest_dir,aug_dir))
  for sign_dir in aug_dir_lst:
    sign_dir_lst = os.listdir(os.path.join(char_dir,aug_dir,sign_dir))
    sign_dir_lst.sort()
    os.mkdir(os.path.join(dest_dir,aug_dir,sign_dir))
    k = 0
    for image in sign_dir_lst:
      input_frame = cv2.imread(os.path.join(char_dir,aug_dir,sign_dir,image))
      input_frame = cv2.cvtColor(input_frame, cv2.COLOR_BGR2RGB)
      input_frame = cv2.resize(input_frame,(256,256))
      signdict[k]={'Aug_name' : aug_dir,'class_name' : sign_dir}
      with mp_pose.Pose(static_image_mode=True,min_detection_confidence=0.6) as pose:
          pose_result = pose.process(image=input_frame)
          pose_landmarks = pose_result.pose_landmarks
      with mp_hands.Hands(static_image_mode=True,max_num_hands=2,min_detection_confidence=0.2) as hands:
          hand_result = hands.process(image=input_frame)
          hand_landmarks = hand_result.multi_hand_landmarks
          multi_handedness = hand_result.multi_handedness
      
      if pose_landmarks is None:
        pose_lndmarkdict[k]={'nose_x':np.nan,'nose_y':np.nan,'left_eye_inner_x':np.nan,'left_eye_inner_y':np.nan,'left_eye_x':np.nan,
                            'left_eye_y':np.nan,'left_eye_outer_x':np.nan,'left_eye_outer_y':np.nan,'right_eye_inner_x':np.nan,
                            'right_eye_inner_y':np.nan,'right_eye_x':np.nan,'right_eye_y':np.nan,'right_eye_outer_x':np.nan,'right_eye_outer_y':np.nan,
                            'left_ear_x':np.nan,'left_ear_y':np.nan,'right_ear_x':np.nan,'right_ear_y':np.nan,'mouth_left_x':np.nan,'mouth_left_y':np.nan,
                            'mouth_right_x':np.nan,'mouth_right_y':np.nan, 'left_shoulder_x': np.nan, 'left_shoulder_y' : np.nan, 'right_shoulder_x' :np.nan,
                            'right_shoulder_y': np.nan, 'left_elbow_x' :np.nan, 'left_elbow_y' :np.nan, 'right_elbow_x' :np.nan,
                            'right_elbow_y' :np.nan, 'left_wrist_x' :np.nan, 'left_wrist_y' :np.nan, 'right_wrist_x' :np.nan,
                            'right_wrist_y' :np.nan, 'left_pinky_x' :np.nan, 'left_pinky_y' :np.nan,'right_pinky_x' :np.nan,
                            'right_pinky_y' :np.nan,'left_index_x':np.nan ,'left_index_y':np.nan,'right_index_x':np.nan,
                            'right_index_y':np.nan,'left_thumb_x' :np.nan, 'left_thumb_y' :np.nan, 'right_thumb_x' :np.nan,
                            'right_thumb_y' :np.nan, 'left_hip_x':np.nan,'left_hip_y':np.nan, 'right_hip_x':np.nan,'right_hip_y':np.nan,'None_pose' : 0}
      else:
        pose_lndmarkdict[k]={'nose_x':pose_landmarks.landmark[0].x,'nose_y':pose_landmarks.landmark[0].y,'left_eye_inner_x':pose_landmarks.landmark[1].x,'left_eye_inner_y':pose_landmarks.landmark[1].y,
                            'left_eye_x':pose_landmarks.landmark[2].x,'left_eye_y':pose_landmarks.landmark[2].y,'left_eye_outer_x':pose_landmarks.landmark[3].x,'left_eye_outer_y':pose_landmarks.landmark[3].y,
                            'right_eye_inner_x':pose_landmarks.landmark[4].x,'right_eye_inner_y':pose_landmarks.landmark[4].y,'right_eye_x':pose_landmarks.landmark[5].x,'right_eye_y':pose_landmarks.landmark[5].y,
                            'right_eye_outer_x':pose_landmarks.landmark[6].x,'right_eye_outer_y':pose_landmarks.landmark[6].y,'left_ear_x':pose_landmarks.landmark[7].x,'left_ear_y':pose_landmarks.landmark[7].y,
                            'right_ear_x':pose_landmarks.landmark[8].x,'right_ear_y':pose_landmarks.landmark[8].y,'mouth_left_x':pose_landmarks.landmark[9].x,'mouth_left_y':pose_landmarks.landmark[9].y,
                            'mouth_right_x':pose_landmarks.landmark[10].x,'mouth_right_y':pose_landmarks.landmark[10].y, 'left_shoulder_x': pose_landmarks.landmark[11].x, 'left_shoulder_y' : pose_landmarks.landmark[11].y, 
                            'right_shoulder_x' :pose_landmarks.landmark[12].x, 'right_shoulder_y': pose_landmarks.landmark[12].y, 
                            'left_elbow_x' :pose_landmarks.landmark[13].x, 'left_elbow_y' :pose_landmarks.landmark[13].y, 
                            'right_elbow_x' :pose_landmarks.landmark[14].x, 'right_elbow_y' :pose_landmarks.landmark[14].y, 
                            'left_wrist_x' :pose_landmarks.landmark[15].x, 'left_wrist_y' :pose_landmarks.landmark[15].y, 
                            'right_wrist_x' :pose_landmarks.landmark[16].x, 'right_wrist_y' :pose_landmarks.landmark[16].y, 
                            'left_pinky_x' :pose_landmarks.landmark[17].x, 'left_pinky_y' :pose_landmarks.landmark[17].y, 
                            'right_pinky_x' :pose_landmarks.landmark[18].x, 'right_pinky_y' :pose_landmarks.landmark[18].y, 
                            'left_index_x':pose_landmarks.landmark[19].x, 'left_index_y':pose_landmarks.landmark[19].y, 
                            'right_index_x':pose_landmarks.landmark[20].x, 'right_index_y':pose_landmarks.landmark[20].y, 
                            'left_thumb_x' :pose_landmarks.landmark[21].x, 'left_thumb_y' :pose_landmarks.landmark[21].y, 
                            'right_thumb_x' :pose_landmarks.landmark[22].x, 'right_thumb_y' :pose_landmarks.landmark[22].y,'left_hip_x':pose_landmarks.landmark[23].x,'left_hip_y':pose_landmarks.landmark[23].y, 
                            'right_hip_x':pose_landmarks.landmark[24].x,'right_hip_y':pose_landmarks.landmark[24].y, 'None_pose':1}
      
      #hand_lndmarkdict[k]={'Right' : {},'Left': {}}

      if hand_landmarks is None:
        
        hand_lndmarkdict_right[k]={'wrist_x_r':np.nan,'wrist_y_r':np.nan,'thumb_cmc_x_r':np.nan,'thumb_cmc_y_r' :np.nan,
        'thumb_mcp_x_r':np.nan, 'thumb_mcp_y_r':np.nan,'thumb_ip_x_r':np.nan, 'thumb_ip_y_r':np.nan,
        'thumb_tip_x_r':np.nan,'thumb_tip_y_r':np.nan,'index_finger_mcp_x_r':np.nan,'index_finger_mcp_y_r':np.nan,
        'index_finger_pip_x_r':np.nan, 'index_finger_pip_y_r':np.nan,  'index_finger_dip_x_r':np.nan,  'index_finger_dip_y_r':np.nan,
        'index_finger_tip_x_r':np.nan, 'index_finger_tip_y_r':np.nan,'middle_finger_mcp_x_r':np.nan, 'middle_finger_mcp_y_r':np.nan,
        'middle_finger_pip_x_r':np.nan,'middle_finger_pip_y_r':np.nan,'middle_finger_dip_x_r':np.nan, 'middle_finger_dip_y_r':np.nan,
        'middle_finger_tip_x_r':np.nan, 'middle_finger_tip_y_r':np.nan,'ring_finger_mcp_x_r':np.nan, 'ring_finger_mcp_y_r':np.nan,
        'ring_finger_pip_x_r':np.nan,'ring_finger_pip_y_r':np.nan,'ring_finger_dip_x_r':np.nan,'ring_finger_dip_y_r':np.nan,
        'ring_finger_tip_x_r':np.nan,'ring_finger_tip_y_r':np.nan,'pinky_mcp_x_r':np.nan,'pinky_mcp_y_r':np.nan, 'pinky_pip_x_r':np.nan,
        'pinky_pip_y_r':np.nan, 'pinky_dip_x_r':np.nan,'pinky_dip_y_r':np.nan, 'pinky_tip_x_r':np.nan,'pinky_tip_y_r':np.nan, 'None_pose' : 0}

        hand_lndmarkdict_left[k]={'wrist_x_l':np.nan,'wrist_y_l':np.nan,'thumb_cmc_x_l':np.nan,'thumb_cmc_y_l' :np.nan,
        'thumb_mcp_x_l':np.nan, 'thumb_mcp_y_l':np.nan,'thumb_ip_x_l':np.nan, 'thumb_ip_y_l':np.nan,
        'thumb_tip_x_l':np.nan,'thumb_tip_y_l':np.nan,'index_finger_mcp_x_l':np.nan,'index_finger_mcp_y_l':np.nan,
        'index_finger_pip_x_l':np.nan, 'index_finger_pip_y_l':np.nan,  'index_finger_dip_x_l':np.nan,  'index_finger_dip_y_l':np.nan,
        'index_finger_tip_x_l':np.nan,  'index_finger_tip_y_l':np.nan,'middle_finger_mcp_x_l':np.nan, 'middle_finger_mcp_y_l':np.nan,
        'middle_finger_pip_x_l':np.nan,'middle_finger_pip_y_l':np.nan,'middle_finger_dip_x_l':np.nan, 'middle_finger_dip_y_l':np.nan,
        'middle_finger_tip_x_l':np.nan, 'middle_finger_tip_y_l':np.nan,'ring_finger_mcp_x_l':np.nan, 'ring_finger_mcp_y_l':np.nan,
        'ring_finger_pip_x_l':np.nan,'ring_finger_pip_y_l':np.nan,'ring_finger_dip_x_l':np.nan,'ring_finger_dip_y_l':np.nan,
        'ring_finger_tip_x_l':np.nan,'ring_finger_tip_y_l':np.nan,'pinky_mcp_x_l':np.nan,'pinky_mcp_y_l':np.nan, 'pinky_pip_x_l':np.nan,
        'pinky_pip_y_l':np.nan, 'pinky_dip_x_l':np.nan,'pinky_dip_y_l':np.nan, 'pinky_tip_x_l':np.nan,'pinky_tip_y_l':np.nan, 'None_pose' : 0}          

      else:
        v = 0
        for hand_landmark in hand_landmarks:
          if len(hand_landmarks)==1:
                      
            if(multi_handedness[0].classification[0].label == "Right"):

              hand_lndmarkdict_right[k]= {'wrist_x_r':hand_landmarks[0].landmark[0].x,'wrist_y_r':hand_landmarks[0].landmark[0].y,
              'thumb_cmc_x_r':hand_landmarks[0].landmark[1].x,'thumb_cmc_y_r' :hand_landmarks[0].landmark[1].y,
              'thumb_mcp_x_r':hand_landmarks[0].landmark[2].x, 'thumb_mcp_y_r':hand_landmarks[0].landmark[2].y,
              'thumb_ip_x_r':hand_landmarks[0].landmark[3].x, 'thumb_ip_y_r':hand_landmarks[0].landmark[3].y,
              'thumb_tip_x_r':hand_landmarks[0].landmark[4].x,'thumb_tip_y_r':hand_landmarks[0].landmark[4].y,
              'index_finger_mcp_x_r':hand_landmarks[0].landmark[5].x,'index_finger_mcp_y_r':hand_landmarks[0].landmark[5].y,
              'index_finger_pip_x_r':hand_landmarks[0].landmark[6].x, 'index_finger_pip_y_r':hand_landmarks[0].landmark[6].y,
              'index_finger_dip_x_r':hand_landmarks[0].landmark[7].x,  'index_finger_dip_y_r':hand_landmarks[0].landmark[7].y,
              'index_finger_tip_x_r':hand_landmarks[0].landmark[8].x,  'index_finger_tip_y_r':hand_landmarks[0].landmark[8].y,
              'middle_finger_mcp_x_r':hand_landmarks[0].landmark[9].x, 'middle_finger_mcp_y_r':hand_landmarks[0].landmark[9].y,
              'middle_finger_pip_x_r':hand_landmarks[0].landmark[10].x,'middle_finger_pip_y_r':hand_landmarks[0].landmark[10].y,
              'middle_finger_dip_x_r':hand_landmarks[0].landmark[11].x, 'middle_finger_dip_y_r':hand_landmarks[0].landmark[11].y,
              'middle_finger_tip_x_r':hand_landmarks[0].landmark[12].x, 'middle_finger_tip_y_r':hand_landmarks[0].landmark[12].y,
              'ring_finger_mcp_x_r':hand_landmarks[0].landmark[13].x, 'ring_finger_mcp_y_r':hand_landmarks[0].landmark[13].y,
              'ring_finger_pip_x_r':hand_landmarks[0].landmark[14].x,'ring_finger_pip_y_r':hand_landmarks[0].landmark[14].y,
              'ring_finger_dip_x_r':hand_landmarks[0].landmark[15].x,'ring_finger_dip_y_r':hand_landmarks[0].landmark[15].y,
              'ring_finger_tip_x_r':hand_landmarks[0].landmark[16].x,'ring_finger_tip_y_r':hand_landmarks[0].landmark[16].y,
              'pinky_mcp_x_r':hand_landmarks[0].landmark[17].x,'pinky_mcp_y_r':hand_landmarks[0].landmark[17].y,
              'pinky_pip_x_r':hand_landmarks[0].landmark[18].x,'pinky_pip_y_r':hand_landmarks[0].landmark[18].y,
              'pinky_dip_x_r':hand_landmarks[0].landmark[19].x,'pinky_dip_y_r':hand_landmarks[0].landmark[19].y,
              'pinky_tip_x_r':hand_landmarks[0].landmark[20].x,'pinky_tip_y_r':hand_landmarks[0].landmark[20].y, 'None_pose' : 1}
            
              hand_lndmarkdict_left[k]={'wrist_x_l':np.nan,'wrist_y_l':np.nan,'thumb_cmc_x_l':np.nan,'thumb_cmc_y_l' :np.nan,
              'thumb_mcp_x_l':np.nan, 'thumb_mcp_y_l':np.nan,'thumb_ip_x_l':np.nan, 'thumb_ip_y_l':np.nan,
              'thumb_tip_x_l':np.nan,'thumb_tip_y_l':np.nan,'index_finger_mcp_x_l':np.nan,'index_finger_mcp_y_l':np.nan,
              'index_finger_pip_x_l':np.nan, 'index_finger_pip_y_l':np.nan,  'index_finger_dip_x_l':np.nan,  'index_finger_dip_y_l':np.nan,
              'index_finger_tip_x_l':np.nan,  'index_finger_tip_y_l':np.nan,'middle_finger_mcp_x_l':np.nan, 'middle_finger_mcp_y_l':np.nan,
              'middle_finger_pip_x_l':np.nan,'middle_finger_pip_y_l':np.nan,'middle_finger_dip_x_l':np.nan, 'middle_finger_dip_y_l':np.nan,
              'middle_finger_tip_x_l':np.nan, 'middle_finger_tip_y_l':np.nan,'ring_finger_mcp_x_l':np.nan, 'ring_finger_mcp_y_l':np.nan,
              'ring_finger_pip_x_l':np.nan,'ring_finger_pip_y_l':np.nan,'ring_finger_dip_x_l':np.nan,'ring_finger_dip_y_l':np.nan,
              'ring_finger_tip_x_l':np.nan,'ring_finger_tip_y_l':np.nan,'pinky_mcp_x_l':np.nan,'pinky_mcp_y_l':np.nan, 'pinky_pip_x_l':np.nan,
              'pinky_pip_y_l':np.nan, 'pinky_dip_x_l':np.nan,'pinky_dip_y_l':np.nan, 'pinky_tip_x_l':np.nan,'pinky_tip_y_l':np.nan, 'None_pose' : 0}

            elif(multi_handedness[0].classification[0].label == "Left"):

              hand_lndmarkdict_right[k]={'wrist_x_r':np.nan,'wrist_y_r':np.nan,'thumb_cmc_x_r':np.nan,'thumb_cmc_y_r' :np.nan,
              'thumb_mcp_x_r':np.nan, 'thumb_mcp_y_r':np.nan,'thumb_ip_x_r':np.nan, 'thumb_ip_y_r':np.nan,
              'thumb_tip_x_r':np.nan,'thumb_tip_y_r':np.nan,'index_finger_mcp_x_r':np.nan,'index_finger_mcp_y_r':np.nan,
              'index_finger_pip_x_r':np.nan, 'index_finger_pip_y_r':np.nan,  'index_finger_dip_x_r':np.nan,  'index_finger_dip_y_r':np.nan,
              'index_finger_tip_x_r':np.nan, 'index_finger_tip_y_r':np.nan,'middle_finger_mcp_x_r':np.nan, 'middle_finger_mcp_y_r':np.nan,
              'middle_finger_pip_x_r':np.nan,'middle_finger_pip_y_r':np.nan,'middle_finger_dip_x_r':np.nan, 'middle_finger_dip_y_r':np.nan,
              'middle_finger_tip_x_r':np.nan, 'middle_finger_tip_y_r':np.nan,'ring_finger_mcp_x_r':np.nan, 'ring_finger_mcp_y_r':np.nan,
              'ring_finger_pip_x_r':np.nan,'ring_finger_pip_y_r':np.nan,'ring_finger_dip_x_r':np.nan,'ring_finger_dip_y_r':np.nan,
              'ring_finger_tip_x_r':np.nan,'ring_finger_tip_y_r':np.nan,'pinky_mcp_x_r':np.nan,'pinky_mcp_y_r':np.nan, 'pinky_pip_x_r':np.nan,
              'pinky_pip_y_r':np.nan, 'pinky_dip_x_r':np.nan,'pinky_dip_y_r':np.nan, 'pinky_tip_x_r':np.nan,'pinky_tip_y_r':np.nan, 'None_pose' : 0}
              
              hand_lndmarkdict_left[k]={'wrist_x_l':hand_landmarks[0].landmark[0].x,'wrist_y_l':hand_landmarks[0].landmark[0].y,
              'thumb_cmc_x_l':hand_landmarks[0].landmark[1].x,'thumb_cmc_y_l' :hand_landmarks[0].landmark[1].y,
              'thumb_mcp_x_l':hand_landmarks[0].landmark[2].x, 'thumb_mcp_y_l':hand_landmarks[0].landmark[2].y,
              'thumb_ip_x_l':hand_landmarks[0].landmark[3].x, 'thumb_ip_y_l':hand_landmarks[0].landmark[3].y,
              'thumb_tip_x_l':hand_landmarks[0].landmark[4].x,'thumb_tip_y_l':hand_landmarks[0].landmark[4].y,
              'index_finger_mcp_x_l':hand_landmarks[0].landmark[5].x,'index_finger_mcp_y_l':hand_landmarks[0].landmark[5].y,
              'index_finger_pip_x_l':hand_landmarks[0].landmark[6].x, 'index_finger_pip_y_l':hand_landmarks[0].landmark[6].y,
              'index_finger_dip_x_l':hand_landmarks[0].landmark[7].x,  'index_finger_dip_y_l':hand_landmarks[0].landmark[7].y,
              'index_finger_tip_x_l':hand_landmarks[0].landmark[8].x,  'index_finger_tip_y_l':hand_landmarks[0].landmark[8].y,
              'middle_finger_mcp_x_l':hand_landmarks[0].landmark[9].x, 'middle_finger_mcp_y_l':hand_landmarks[0].landmark[9].y,
              'middle_finger_pip_x_l':hand_landmarks[0].landmark[10].x,'middle_finger_pip_y_l':hand_landmarks[0].landmark[10].y,
              'middle_finger_dip_x_l':hand_landmarks[0].landmark[11].x, 'middle_finger_dip_y_l':hand_landmarks[0].landmark[11].y,
              'middle_finger_tip_x_l':hand_landmarks[0].landmark[12].x, 'middle_finger_tip_y_l':hand_landmarks[0].landmark[12].y,
              'ring_finger_mcp_x_l':hand_landmarks[0].landmark[13].x, 'ring_finger_mcp_y_l':hand_landmarks[0].landmark[13].y,
              'ring_finger_pip_x_l':hand_landmarks[0].landmark[14].x,'ring_finger_pip_y_l':hand_landmarks[0].landmark[14].y,
              'ring_finger_dip_x_l':hand_landmarks[0].landmark[15].x,'ring_finger_dip_y_l':hand_landmarks[0].landmark[15].y,
              'ring_finger_tip_x_l':hand_landmarks[0].landmark[16].x,'ring_finger_tip_y_l':hand_landmarks[0].landmark[16].y,
              'pinky_mcp_x_l':hand_landmarks[0].landmark[17].x,'pinky_mcp_y_l':hand_landmarks[0].landmark[17].y,
              'pinky_pip_x_l':hand_landmarks[0].landmark[18].x,'pinky_pip_y_l':hand_landmarks[0].landmark[18].y,
              'pinky_dip_x_l':hand_landmarks[0].landmark[19].x,'pinky_dip_y_l':hand_landmarks[0].landmark[19].y,
              'pinky_tip_x_l':hand_landmarks[0].landmark[20].x,'pinky_tip_y_l':hand_landmarks[0].landmark[20].y, 'None_pose' : 1}
      
          if len (hand_landmarks) == 2:
                    
            if (multi_handedness[0].classification[0].label == "Right") and (multi_handedness[1].classification[0].label == "Right"):
              if multi_handedness[0].classification[0].score > multi_handedness[1].classification[0].score:

                hand_lndmarkdict_right[k]= {'wrist_x_r':hand_landmarks[0].landmark[0].x,'wrist_y_r':hand_landmarks[0].landmark[0].y,
                'thumb_cmc_x_r':hand_landmarks[0].landmark[1].x,'thumb_cmc_y_r' :hand_landmarks[0].landmark[1].y,
                'thumb_mcp_x_r':hand_landmarks[0].landmark[2].x, 'thumb_mcp_y_r':hand_landmarks[0].landmark[2].y,
                'thumb_ip_x_r':hand_landmarks[0].landmark[3].x, 'thumb_ip_y_r':hand_landmarks[0].landmark[3].y,
                'thumb_tip_x_r':hand_landmarks[0].landmark[4].x,'thumb_tip_y_r':hand_landmarks[0].landmark[4].y,
                'index_finger_mcp_x_r':hand_landmarks[0].landmark[5].x,'index_finger_mcp_y_r':hand_landmarks[0].landmark[5].y,
                'index_finger_pip_x_r':hand_landmarks[0].landmark[6].x, 'index_finger_pip_y_r':hand_landmarks[0].landmark[6].y,
                'index_finger_dip_x_r':hand_landmarks[0].landmark[7].x,  'index_finger_dip_y_r':hand_landmarks[0].landmark[7].y,
                'index_finger_tip_x_r':hand_landmarks[0].landmark[8].x,  'index_finger_tip_y_r':hand_landmarks[0].landmark[8].y,
                'middle_finger_mcp_x_r':hand_landmarks[0].landmark[9].x, 'middle_finger_mcp_y_r':hand_landmarks[0].landmark[9].y,
                'middle_finger_pip_x_r':hand_landmarks[0].landmark[10].x,'middle_finger_pip_y_r':hand_landmarks[0].landmark[10].y,
                'middle_finger_dip_x_r':hand_landmarks[0].landmark[11].x, 'middle_finger_dip_y_r':hand_landmarks[0].landmark[11].y,
                'middle_finger_tip_x_r':hand_landmarks[0].landmark[12].x, 'middle_finger_tip_y_r':hand_landmarks[0].landmark[12].y,
                'ring_finger_mcp_x_r':hand_landmarks[0].landmark[13].x, 'ring_finger_mcp_y_r':hand_landmarks[0].landmark[13].y,
                'ring_finger_pip_x_r':hand_landmarks[0].landmark[14].x,'ring_finger_pip_y_r':hand_landmarks[0].landmark[14].y,
                'ring_finger_dip_x_r':hand_landmarks[0].landmark[15].x,'ring_finger_dip_y_r':hand_landmarks[0].landmark[15].y,
                'ring_finger_tip_x_r':hand_landmarks[0].landmark[16].x,'ring_finger_tip_y_r':hand_landmarks[0].landmark[16].y,
                'pinky_mcp_x_r':hand_landmarks[0].landmark[17].x,'pinky_mcp_y_r':hand_landmarks[0].landmark[17].y,
                'pinky_pip_x_r':hand_landmarks[0].landmark[18].x,'pinky_pip_y_r':hand_landmarks[0].landmark[18].y,
                'pinky_dip_x_r':hand_landmarks[0].landmark[19].x,'pinky_dip_y_r':hand_landmarks[0].landmark[19].y,
                'pinky_tip_x_r':hand_landmarks[0].landmark[20].x,'pinky_tip_y_r':hand_landmarks[0].landmark[20].y, 'None_pose' : 1}

                hand_lndmarkdict_left[k]={'wrist_x_l':np.nan,'wrist_y_l':np.nan,'thumb_cmc_x_l':np.nan,'thumb_cmc_y_l' :np.nan,
                'thumb_mcp_x_l':np.nan, 'thumb_mcp_y_l':np.nan,'thumb_ip_x_l':np.nan, 'thumb_ip_y_l':np.nan,
                'thumb_tip_x_l':np.nan,'thumb_tip_y_l':np.nan,'index_finger_mcp_x_l':np.nan,'index_finger_mcp_y_l':np.nan,
                'index_finger_pip_x_l':np.nan, 'index_finger_pip_y_l':np.nan,  'index_finger_dip_x_l':np.nan,  'index_finger_dip_y_l':np.nan,
                'index_finger_tip_x_l':np.nan,  'index_finger_tip_y_l':np.nan,'middle_finger_mcp_x_l':np.nan, 'middle_finger_mcp_y_l':np.nan,
                'middle_finger_pip_x_l':np.nan,'middle_finger_pip_y_l':np.nan,'middle_finger_dip_x_l':np.nan, 'middle_finger_dip_y_l':np.nan,
                'middle_finger_tip_x_l':np.nan, 'middle_finger_tip_y_l':np.nan,'ring_finger_mcp_x_l':np.nan, 'ring_finger_mcp_y_l':np.nan,
                'ring_finger_pip_x_l':np.nan,'ring_finger_pip_y_l':np.nan,'ring_finger_dip_x_l':np.nan,'ring_finger_dip_y_l':np.nan,
                'ring_finger_tip_x_l':np.nan,'ring_finger_tip_y_l':np.nan,'pinky_mcp_x_l':np.nan,'pinky_mcp_y_l':np.nan, 'pinky_pip_x_l':np.nan,
                'pinky_pip_y_l':np.nan, 'pinky_dip_x_l':np.nan,'pinky_dip_y_l':np.nan, 'pinky_tip_x_l':np.nan,'pinky_tip_y_l':np.nan, 'None_pose' : 0}

              else:

                hand_lndmarkdict_right[k]= {'wrist_x_r':hand_landmarks[1].landmark[0].x,'wrist_y_r':hand_landmarks[1].landmark[0].y,
                'thumb_cmc_x_r':hand_landmarks[1].landmark[1].x,'thumb_cmc_y_r' :hand_landmarks[1].landmark[1].y,
                'thumb_mcp_x_r':hand_landmarks[1].landmark[2].x,'thumb_mcp_y_r':hand_landmarks[1].landmark[2].y,
                'thumb_ip_x_r':hand_landmarks[1].landmark[3].x,'thumb_ip_y_r':hand_landmarks[1].landmark[3].y,
                'thumb_tip_x_r':hand_landmarks[1].landmark[4].x,'thumb_tip_y_r':hand_landmarks[1].landmark[4].y,
                'index_finger_mcp_x_r':hand_landmarks[1].landmark[5].x,'index_finger_mcp_y_r':hand_landmarks[1].landmark[5].y,
                'index_finger_pip_x_r':hand_landmarks[1].landmark[6].x,'index_finger_pip_y_r':hand_landmarks[1].landmark[6].y,
                'index_finger_dip_x_r':hand_landmarks[1].landmark[7].x,'index_finger_dip_y_r':hand_landmarks[1].landmark[7].y,
                'index_finger_tip_x_r':hand_landmarks[1].landmark[8].x,'index_finger_tip_y_r':hand_landmarks[1].landmark[8].y,
                'middle_finger_mcp_x_r':hand_landmarks[1].landmark[9].x,'middle_finger_mcp_y_r':hand_landmarks[1].landmark[9].y,
                'middle_finger_pip_x_r':hand_landmarks[1].landmark[10].x,'middle_finger_pip_y_r':hand_landmarks[1].landmark[10].y,
                'middle_finger_dip_x_r':hand_landmarks[1].landmark[11].x,'middle_finger_dip_y_r':hand_landmarks[1].landmark[11].y,
                'middle_finger_tip_x_r':hand_landmarks[1].landmark[12].x,'middle_finger_tip_y_r':hand_landmarks[1].landmark[12].y,
                'ring_finger_mcp_x_r':hand_landmarks[1].landmark[13].x,'ring_finger_mcp_y_r':hand_landmarks[1].landmark[13].y,
                'ring_finger_pip_x_r':hand_landmarks[1].landmark[14].x,'ring_finger_pip_y_r':hand_landmarks[1].landmark[14].y,
                'ring_finger_dip_x_r':hand_landmarks[1].landmark[15].x,'ring_finger_dip_y_r':hand_landmarks[1].landmark[15].y,
                'ring_finger_tip_x_r':hand_landmarks[1].landmark[16].x,'ring_finger_tip_y_r':hand_landmarks[1].landmark[16].y,
                'pinky_mcp_x_r':hand_landmarks[1].landmark[17].x,'pinky_mcp_y_r':hand_landmarks[1].landmark[17].y,
                'pinky_pip_x_r':hand_landmarks[1].landmark[18].x,'pinky_pip_y_r':hand_landmarks[1].landmark[18].y,
                'pinky_dip_x_r':hand_landmarks[1].landmark[19].x,'pinky_dip_y_r':hand_landmarks[1].landmark[19].y,
                'pinky_tip_x_r':hand_landmarks[1].landmark[20].x,'pinky_tip_y_r':hand_landmarks[1].landmark[20].y, 'None_pose' : 1}

                hand_lndmarkdict_left[k]={'wrist_x_l':np.nan,'wrist_y_l':np.nan,'thumb_cmc_x_l':np.nan,'thumb_cmc_y_l' :np.nan,
                'thumb_mcp_x_l':np.nan, 'thumb_mcp_y_l':np.nan,'thumb_ip_x_l':np.nan, 'thumb_ip_y_l':np.nan,
                'thumb_tip_x_l':np.nan,'thumb_tip_y_l':np.nan,'index_finger_mcp_x_l':np.nan,'index_finger_mcp_y_l':np.nan,
                'index_finger_pip_x_l':np.nan, 'index_finger_pip_y_l':np.nan,  'index_finger_dip_x_l':np.nan,  'index_finger_dip_y_l':np.nan,
                'index_finger_tip_x_l':np.nan,  'index_finger_tip_y_l':np.nan,'middle_finger_mcp_x_l':np.nan, 'middle_finger_mcp_y_l':np.nan,
                'middle_finger_pip_x_l':np.nan,'middle_finger_pip_y_l':np.nan,'middle_finger_dip_x_l':np.nan, 'middle_finger_dip_y_l':np.nan,
                'middle_finger_tip_x_l':np.nan, 'middle_finger_tip_y_l':np.nan,'ring_finger_mcp_x_l':np.nan, 'ring_finger_mcp_y_l':np.nan,
                'ring_finger_pip_x_l':np.nan,'ring_finger_pip_y_l':np.nan,'ring_finger_dip_x_l':np.nan,'ring_finger_dip_y_l':np.nan,
                'ring_finger_tip_x_l':np.nan,'ring_finger_tip_y_l':np.nan,'pinky_mcp_x_l':np.nan,'pinky_mcp_y_l':np.nan, 'pinky_pip_x_l':np.nan,
                'pinky_pip_y_l':np.nan, 'pinky_dip_x_l':np.nan,'pinky_dip_y_l':np.nan, 'pinky_tip_x_l':np.nan,'pinky_tip_y_l':np.nan, 'None_pose' : 0}

            elif (multi_handedness[0].classification[0].label == "Left") and (multi_handedness[1].classification[0].label == "Left"):
              if multi_handedness[0].classification[0].score > multi_handedness[1].classification[0].score:
                
                hand_lndmarkdict_right[k]={'wrist_x_r':np.nan,'wrist_y_r':np.nan,'thumb_cmc_x_r':np.nan,'thumb_cmc_y_r' :np.nan,
                'thumb_mcp_x_r':np.nan, 'thumb_mcp_y_r':np.nan,'thumb_ip_x_r':np.nan, 'thumb_ip_y_r':np.nan,
                'thumb_tip_x_r':np.nan,'thumb_tip_y_r':np.nan,'index_finger_mcp_x_r':np.nan,'index_finger_mcp_y_r':np.nan,
                'index_finger_pip_x_r':np.nan, 'index_finger_pip_y_r':np.nan,  'index_finger_dip_x_r':np.nan,  'index_finger_dip_y_r':np.nan,
                'index_finger_tip_x_r':np.nan, 'index_finger_tip_y_r':np.nan,'middle_finger_mcp_x_r':np.nan, 'middle_finger_mcp_y_r':np.nan,
                'middle_finger_pip_x_r':np.nan,'middle_finger_pip_y_r':np.nan,'middle_finger_dip_x_r':np.nan, 'middle_finger_dip_y_r':np.nan,
                'middle_finger_tip_x_r':np.nan, 'middle_finger_tip_y_r':np.nan,'ring_finger_mcp_x_r':np.nan, 'ring_finger_mcp_y_r':np.nan,
                'ring_finger_pip_x_r':np.nan,'ring_finger_pip_y_r':np.nan,'ring_finger_dip_x_r':np.nan,'ring_finger_dip_y_r':np.nan,
                'ring_finger_tip_x_r':np.nan,'ring_finger_tip_y_r':np.nan,'pinky_mcp_x_r':np.nan,'pinky_mcp_y_r':np.nan, 'pinky_pip_x_r':np.nan,
                'pinky_pip_y_r':np.nan, 'pinky_dip_x_r':np.nan,'pinky_dip_y_r':np.nan, 'pinky_tip_x_r':np.nan,'pinky_tip_y_r':np.nan, 'None_pose' : 0}
                
                hand_lndmarkdict_left[k]={'wrist_x_l':hand_landmarks[0].landmark[0].x,'wrist_y_l':hand_landmarks[0].landmark[0].y,
                'thumb_cmc_x_l':hand_landmarks[0].landmark[1].x,'thumb_cmc_y_l' :hand_landmarks[0].landmark[1].y,
                'thumb_mcp_x_l':hand_landmarks[0].landmark[2].x, 'thumb_mcp_y_l':hand_landmarks[0].landmark[2].y,
                'thumb_ip_x_l':hand_landmarks[0].landmark[3].x, 'thumb_ip_y_l':hand_landmarks[0].landmark[3].y,
                'thumb_tip_x_l':hand_landmarks[0].landmark[4].x,'thumb_tip_y_l':hand_landmarks[0].landmark[4].y,
                'index_finger_mcp_x_l':hand_landmarks[0].landmark[5].x,'index_finger_mcp_y_l':hand_landmarks[0].landmark[5].y,
                'index_finger_pip_x_l':hand_landmarks[0].landmark[6].x, 'index_finger_pip_y_l':hand_landmarks[0].landmark[6].y,
                'index_finger_dip_x_l':hand_landmarks[0].landmark[7].x,  'index_finger_dip_y_l':hand_landmarks[0].landmark[7].y,
                'index_finger_tip_x_l':hand_landmarks[0].landmark[8].x,  'index_finger_tip_y_l':hand_landmarks[0].landmark[8].y,
                'middle_finger_mcp_x_l':hand_landmarks[0].landmark[9].x, 'middle_finger_mcp_y_l':hand_landmarks[0].landmark[9].y,
                'middle_finger_pip_x_l':hand_landmarks[0].landmark[10].x,'middle_finger_pip_y_l':hand_landmarks[0].landmark[10].y,
                'middle_finger_dip_x_l':hand_landmarks[0].landmark[11].x, 'middle_finger_dip_y_l':hand_landmarks[0].landmark[11].y,
                'middle_finger_tip_x_l':hand_landmarks[0].landmark[12].x, 'middle_finger_tip_y_l':hand_landmarks[0].landmark[12].y,
                'ring_finger_mcp_x_l':hand_landmarks[0].landmark[13].x, 'ring_finger_mcp_y_l':hand_landmarks[0].landmark[13].y,
                'ring_finger_pip_x_l':hand_landmarks[0].landmark[14].x,'ring_finger_pip_y_l':hand_landmarks[0].landmark[14].y,
                'ring_finger_dip_x_l':hand_landmarks[0].landmark[15].x,'ring_finger_dip_y_l':hand_landmarks[0].landmark[15].y,
                'ring_finger_tip_x_l':hand_landmarks[0].landmark[16].x,'ring_finger_tip_y_l':hand_landmarks[0].landmark[16].y,
                'pinky_mcp_x_l':hand_landmarks[0].landmark[17].x,'pinky_mcp_y_l':hand_landmarks[0].landmark[17].y,
                'pinky_pip_x_l':hand_landmarks[0].landmark[18].x,'pinky_pip_y_l':hand_landmarks[0].landmark[18].y,
                'pinky_dip_x_l':hand_landmarks[0].landmark[19].x,'pinky_dip_y_l':hand_landmarks[0].landmark[19].y,
                'pinky_tip_x_l':hand_landmarks[0].landmark[20].x,'pinky_tip_y_l':hand_landmarks[0].landmark[20].y, 'None_pose' : 1}

              else:

                hand_lndmarkdict_right[k]={'wrist_x_r':np.nan,'wrist_y_r':np.nan,'thumb_cmc_x_r':np.nan,'thumb_cmc_y_r' :np.nan,
                'thumb_mcp_x_r':np.nan, 'thumb_mcp_y_r':np.nan,'thumb_ip_x_r':np.nan, 'thumb_ip_y_r':np.nan,
                'thumb_tip_x_r':np.nan,'thumb_tip_y_r':np.nan,'index_finger_mcp_x_r':np.nan,'index_finger_mcp_y_r':np.nan,
                'index_finger_pip_x_r':np.nan, 'index_finger_pip_y_r':np.nan,  'index_finger_dip_x_r':np.nan,  'index_finger_dip_y_r':np.nan,
                'index_finger_tip_x_r':np.nan, 'index_finger_tip_y_r':np.nan,'middle_finger_mcp_x_r':np.nan, 'middle_finger_mcp_y_r':np.nan,
                'middle_finger_pip_x_r':np.nan,'middle_finger_pip_y_r':np.nan,'middle_finger_dip_x_r':np.nan, 'middle_finger_dip_y_r':np.nan,
                'middle_finger_tip_x_r':np.nan, 'middle_finger_tip_y_r':np.nan,'ring_finger_mcp_x_r':np.nan, 'ring_finger_mcp_y_r':np.nan,
                'ring_finger_pip_x_r':np.nan,'ring_finger_pip_y_r':np.nan,'ring_finger_dip_x_r':np.nan,'ring_finger_dip_y_r':np.nan,
                'ring_finger_tip_x_r':np.nan,'ring_finger_tip_y_r':np.nan,'pinky_mcp_x_r':np.nan,'pinky_mcp_y_r':np.nan, 'pinky_pip_x_r':np.nan,
                'pinky_pip_y_r':np.nan, 'pinky_dip_x_r':np.nan,'pinky_dip_y_r':np.nan, 'pinky_tip_x_r':np.nan,'pinky_tip_y_r':np.nan, 'None_pose' : 0}
                
                hand_lndmarkdict_left[k]={'wrist_x_l':hand_landmarks[1].landmark[0].x,'wrist_y_l':hand_landmarks[1].landmark[0].y,
                'thumb_cmc_x_l':hand_landmarks[1].landmark[1].x,'thumb_cmc_y_l' :hand_landmarks[1].landmark[1].y,
                'thumb_mcp_x_l':hand_landmarks[1].landmark[2].x,'thumb_mcp_y_l':hand_landmarks[1].landmark[2].y,
                'thumb_ip_x_l':hand_landmarks[1].landmark[3].x,'thumb_ip_y_l':hand_landmarks[1].landmark[3].y,
                'thumb_tip_x_l':hand_landmarks[1].landmark[4].x,'thumb_tip_y_l':hand_landmarks[1].landmark[4].y,
                'index_finger_mcp_x_l':hand_landmarks[1].landmark[5].x,'index_finger_mcp_y_l':hand_landmarks[1].landmark[5].y,
                'index_finger_pip_x_l':hand_landmarks[1].landmark[6].x,'index_finger_pip_y_l':hand_landmarks[1].landmark[6].y,
                'index_finger_dip_x_l':hand_landmarks[1].landmark[7].x,'index_finger_dip_y_l':hand_landmarks[1].landmark[7].y,
                'index_finger_tip_x_l':hand_landmarks[1].landmark[8].x,'index_finger_tip_y_l':hand_landmarks[1].landmark[8].y,
                'middle_finger_mcp_x_l':hand_landmarks[1].landmark[9].x,'middle_finger_mcp_y_l':hand_landmarks[1].landmark[9].y,
                'middle_finger_pip_x_l':hand_landmarks[1].landmark[10].x,'middle_finger_pip_y_l':hand_landmarks[1].landmark[10].y,
                'middle_finger_dip_x_l':hand_landmarks[1].landmark[11].x,'middle_finger_dip_y_l':hand_landmarks[1].landmark[11].y,
                'middle_finger_tip_x_l':hand_landmarks[1].landmark[12].x,'middle_finger_tip_y_l':hand_landmarks[1].landmark[12].y,
                'ring_finger_mcp_x_l':hand_landmarks[1].landmark[13].x,'ring_finger_mcp_y_l':hand_landmarks[1].landmark[13].y,
                'ring_finger_pip_x_l':hand_landmarks[1].landmark[14].x,'ring_finger_pip_y_l':hand_landmarks[1].landmark[14].y,
                'ring_finger_dip_x_l':hand_landmarks[1].landmark[15].x,'ring_finger_dip_y_l':hand_landmarks[1].landmark[15].y,
                'ring_finger_tip_x_l':hand_landmarks[1].landmark[16].x,'ring_finger_tip_y_l':hand_landmarks[1].landmark[16].y,
                'pinky_mcp_x_l':hand_landmarks[1].landmark[17].x,'pinky_mcp_y_l':hand_landmarks[1].landmark[17].y,
                'pinky_pip_x_l':hand_landmarks[1].landmark[18].x,'pinky_pip_y_l':hand_landmarks[1].landmark[18].y,
                'pinky_dip_x_l':hand_landmarks[1].landmark[19].x,'pinky_dip_y_l':hand_landmarks[1].landmark[19].y,
                'pinky_tip_x_l':hand_landmarks[1].landmark[20].x,'pinky_tip_y_l':hand_landmarks[1].landmark[20].y, 'None_pose' : 1}

            if multi_handedness[v].classification[0].label == "Right":

              hand_lndmarkdict_right[k]= {'wrist_x_r':hand_landmarks[v].landmark[0].x,'wrist_y_r':hand_landmarks[v].landmark[0].y,
              'thumb_cmc_x_r':hand_landmarks[v].landmark[1].x,'thumb_cmc_y_r' :hand_landmarks[v].landmark[1].y,
              'thumb_mcp_x_r':hand_landmarks[v].landmark[2].x, 'thumb_mcp_y_r':hand_landmarks[v].landmark[2].y,
              'thumb_ip_x_r':hand_landmarks[v].landmark[3].x, 'thumb_ip_y_r':hand_landmarks[v].landmark[3].y,
              'thumb_tip_x_r':hand_landmarks[v].landmark[4].x,'thumb_tip_y_r':hand_landmarks[v].landmark[4].y,
              'index_finger_mcp_x_r':hand_landmarks[v].landmark[5].x,'index_finger_mcp_y_r':hand_landmarks[v].landmark[5].y,
              'index_finger_pip_x_r':hand_landmarks[v].landmark[6].x, 'index_finger_pip_y_r':hand_landmarks[v].landmark[6].y,
              'index_finger_dip_x_r':hand_landmarks[v].landmark[7].x,  'index_finger_dip_y_r':hand_landmarks[v].landmark[7].y,
              'index_finger_tip_x_r':hand_landmarks[v].landmark[8].x,  'index_finger_tip_y_r':hand_landmarks[v].landmark[8].y,
              'middle_finger_mcp_x_r':hand_landmarks[v].landmark[9].x, 'middle_finger_mcp_y_r':hand_landmarks[v].landmark[9].y,
              'middle_finger_pip_x_r':hand_landmarks[v].landmark[10].x,'middle_finger_pip_y_r':hand_landmarks[v].landmark[10].y,
              'middle_finger_dip_x_r':hand_landmarks[v].landmark[11].x, 'middle_finger_dip_y_r':hand_landmarks[v].landmark[11].y,
              'middle_finger_tip_x_r':hand_landmarks[v].landmark[12].x, 'middle_finger_tip_y_r':hand_landmarks[v].landmark[12].y,
              'ring_finger_mcp_x_r':hand_landmarks[v].landmark[13].x, 'ring_finger_mcp_y_r':hand_landmarks[v].landmark[13].y,
              'ring_finger_pip_x_r':hand_landmarks[v].landmark[14].x,'ring_finger_pip_y_r':hand_landmarks[v].landmark[14].y,
              'ring_finger_dip_x_r':hand_landmarks[v].landmark[15].x,'ring_finger_dip_y_r':hand_landmarks[v].landmark[15].y,
              'ring_finger_tip_x_r':hand_landmarks[v].landmark[16].x,'ring_finger_tip_y_r':hand_landmarks[v].landmark[16].y,
              'pinky_mcp_x_r':hand_landmarks[v].landmark[17].x,'pinky_mcp_y_r':hand_landmarks[v].landmark[17].y,
              'pinky_pip_x_r':hand_landmarks[v].landmark[18].x,'pinky_pip_y_r':hand_landmarks[v].landmark[18].y,
              'pinky_dip_x_r':hand_landmarks[v].landmark[19].x,'pinky_dip_y_r':hand_landmarks[v].landmark[19].y,
              'pinky_tip_x_r':hand_landmarks[v].landmark[20].x,'pinky_tip_y_r':hand_landmarks[v].landmark[20].y, 'None_pose' : 1}
            
            if multi_handedness[v].classification[0].label == "Left":

              hand_lndmarkdict_left[k]={'wrist_x_l':hand_landmarks[v].landmark[0].x,'wrist_y_l':hand_landmarks[v].landmark[0].y,
              'thumb_cmc_x_l':hand_landmarks[v].landmark[1].x,'thumb_cmc_y_l' :hand_landmarks[v].landmark[1].y,
              'thumb_mcp_x_l':hand_landmarks[v].landmark[2].x,'thumb_mcp_y_l':hand_landmarks[v].landmark[2].y,
              'thumb_ip_x_l':hand_landmarks[v].landmark[3].x,'thumb_ip_y_l':hand_landmarks[v].landmark[3].y,
              'thumb_tip_x_l':hand_landmarks[v].landmark[4].x,'thumb_tip_y_l':hand_landmarks[v].landmark[4].y,
              'index_finger_mcp_x_l':hand_landmarks[v].landmark[5].x,'index_finger_mcp_y_l':hand_landmarks[v].landmark[5].y,
              'index_finger_pip_x_l':hand_landmarks[v].landmark[6].x,'index_finger_pip_y_l':hand_landmarks[v].landmark[6].y,
              'index_finger_dip_x_l':hand_landmarks[v].landmark[7].x,'index_finger_dip_y_l':hand_landmarks[v].landmark[7].y,
              'index_finger_tip_x_l':hand_landmarks[v].landmark[8].x,'index_finger_tip_y_l':hand_landmarks[v].landmark[8].y,
              'middle_finger_mcp_x_l':hand_landmarks[v].landmark[9].x,'middle_finger_mcp_y_l':hand_landmarks[v].landmark[9].y,
              'middle_finger_pip_x_l':hand_landmarks[v].landmark[10].x,'middle_finger_pip_y_l':hand_landmarks[v].landmark[10].y,
              'middle_finger_dip_x_l':hand_landmarks[v].landmark[11].x,'middle_finger_dip_y_l':hand_landmarks[v].landmark[11].y,
              'middle_finger_tip_x_l':hand_landmarks[v].landmark[12].x,'middle_finger_tip_y_l':hand_landmarks[v].landmark[12].y,
              'ring_finger_mcp_x_l':hand_landmarks[v].landmark[13].x,'ring_finger_mcp_y_l':hand_landmarks[v].landmark[13].y,
              'ring_finger_pip_x_l':hand_landmarks[v].landmark[14].x,'ring_finger_pip_y_l':hand_landmarks[v].landmark[14].y,
              'ring_finger_dip_x_l':hand_landmarks[v].landmark[15].x,'ring_finger_dip_y_l':hand_landmarks[v].landmark[15].y,
              'ring_finger_tip_x_l':hand_landmarks[v].landmark[16].x,'ring_finger_tip_y_l':hand_landmarks[v].landmark[16].y,
              'pinky_mcp_x_l':hand_landmarks[v].landmark[17].x,'pinky_mcp_y_l':hand_landmarks[v].landmark[17].y,
              'pinky_pip_x_l':hand_landmarks[v].landmark[18].x,'pinky_pip_y_l':hand_landmarks[v].landmark[18].y,
              'pinky_dip_x_l':hand_landmarks[v].landmark[19].x,'pinky_dip_y_l':hand_landmarks[v].landmark[19].y,
              'pinky_tip_x_l':hand_landmarks[v].landmark[20].x,'pinky_tip_y_l':hand_landmarks[v].landmark[20].y, 'None_pose' : 1}
          v +=1
      k += 1 
    
    #Case 1 Pose Landmarks#####################################################################################
    if (pose_lndmarkdict[11]['None_pose'] == 1) and (pose_lndmarkdict[12]['None_pose'] == 0):
      for landmark in pose_lndmarkdict[12]:
        pose_lndmarkdict[12][landmark] = pose_lndmarkdict[11][landmark]
    #Case 1.1 Pose Landmarks#####################################################################################
    if (pose_lndmarkdict[11]['None_pose'] == 0) and (pose_lndmarkdict[12]['None_pose'] == 1):
      for landmark in pose_lndmarkdict[11]:
        pose_lndmarkdict[11][landmark] = pose_lndmarkdict[12][landmark]
    #Case 2 Pose Landmarks#####################################################################################
    if (pose_lndmarkdict[0]['None_pose'] == 0) and (pose_lndmarkdict[1]['None_pose'] == 1):
      for landmark in pose_lndmarkdict[0]:
        pose_lndmarkdict[0][landmark] = pose_lndmarkdict[1][landmark]
    #Case 2.1 Pose Landmarks#####################################################################################
    if (pose_lndmarkdict[0]['None_pose'] == 1) and (pose_lndmarkdict[1]['None_pose'] == 0):
      for landmark in pose_lndmarkdict[1]:
        pose_lndmarkdict[1][landmark] = pose_lndmarkdict[0][landmark]
    #Case 3 Pose Landmarks#####################################################################################
    for fn in range(1,12):
      if (pose_lndmarkdict[fn-1]['None_pose'] == 1) and (pose_lndmarkdict[fn]['None_pose'] == 0) and (pose_lndmarkdict[fn+1]['None_pose'] == 1):
        for landmark in pose_lndmarkdict[fn]:
          pose_lndmarkdict[fn][landmark] = (pose_lndmarkdict[fn-1][landmark] + pose_lndmarkdict[fn+1][landmark])/2
    '''#Case 3 Pose Landmarks#####################################################################################
    for fn in range(2,12):
      if (pose_lndmarkdict[fn-2]['None_pose'] == 1) and (pose_lndmarkdict[fn-1]['None_pose'] == 1) and (pose_lndmarkdict[fn]['None_pose'] == 0) and (pose_lndmarkdict[fn+1]['None_pose'] == 0 ):
        for landmark in pose_lndmarkdict[fn]:
          pose_lndmarkdict[fn][landmark] = ((pose_lndmarkdict[fn-2][landmark] + pose_lndmarkdict[fn-1][landmark]) + pose_lndmarkdict[fn-1][landmark])/2'''

    
    
      

    #Case 1 Hand Landmarks#####################################################################################
    if (hand_lndmarkdict_right[11]['None_pose'] == 1) and (hand_lndmarkdict_right[12]['None_pose'] == 0):
      for landmark in hand_lndmarkdict_right[12]:
        hand_lndmarkdict_right[12][landmark] = hand_lndmarkdict_right[11][landmark]
    
    if (hand_lndmarkdict_left[11]['None_pose'] == 1) and (hand_lndmarkdict_left[12]['None_pose'] == 0):
      for landmark in hand_lndmarkdict_left[12]:
        hand_lndmarkdict_left[12][landmark] = hand_lndmarkdict_left[11][landmark]
    #Case 1.1 Hand Landmarks#####################################################################################
    if (hand_lndmarkdict_right[11]['None_pose'] == 0) and (hand_lndmarkdict_right[12]['None_pose'] == 1):
      for landmark in hand_lndmarkdict_right[11]:
        hand_lndmarkdict_right[11][landmark] = hand_lndmarkdict_right[12][landmark]
    
    if (hand_lndmarkdict_left[11]['None_pose'] == 0) and (hand_lndmarkdict_left[12]['None_pose'] == 1):
      for landmark in hand_lndmarkdict_left[11]:
        hand_lndmarkdict_left[11][landmark] = hand_lndmarkdict_left[12][landmark]
    #Case 2 Hand Landmarks#####################################################################################
    if (hand_lndmarkdict_right[0]['None_pose'] == 0) and (hand_lndmarkdict_right[1]['None_pose'] == 1):
      for landmark in hand_lndmarkdict_right[0]:
        hand_lndmarkdict_right[0][landmark] = hand_lndmarkdict_right[1][landmark]
    
    if (hand_lndmarkdict_left[0]['None_pose'] == 0) and (hand_lndmarkdict_left[1]['None_pose'] == 1):
      for landmark in hand_lndmarkdict_left[0]:
        hand_lndmarkdict_left[0][landmark] = hand_lndmarkdict_left[1][landmark]
    #Case 2.2 Hand Landmarks#####################################################################################
    if (hand_lndmarkdict_right[0]['None_pose'] == 1) and (hand_lndmarkdict_right[1]['None_pose'] == 0):
      for landmark in hand_lndmarkdict_right[1]:
        hand_lndmarkdict_right[1][landmark] = hand_lndmarkdict_right[0][landmark]
    
    if (hand_lndmarkdict_left[0]['None_pose'] == 1) and (hand_lndmarkdict_left[1]['None_pose'] == 0):
      for landmark in hand_lndmarkdict_left[1]:
        hand_lndmarkdict_left[1][landmark] = hand_lndmarkdict_left[0][landmark]
    
    #Case 3 Hand Landmarks #####################################################################################
    for fn in range(1,12):
      if (hand_lndmarkdict_right[fn-1]['None_pose'] == 1) and (hand_lndmarkdict_right[fn]['None_pose'] == 0) and (hand_lndmarkdict_right[fn+1]['None_pose'] == 1):
        for landmark in hand_lndmarkdict_right[fn]:
          hand_lndmarkdict_right[fn][landmark] = (hand_lndmarkdict_right[fn-1][landmark] + hand_lndmarkdict_right[fn+1][landmark])/2
    
    for fn in range(1,12):
      if (hand_lndmarkdict_left[fn-1]['None_pose'] == 1) and (hand_lndmarkdict_left[fn]['None_pose'] == 0) and (hand_lndmarkdict_left[fn+1]['None_pose'] == 1):
        for landmark in hand_lndmarkdict_left[fn]:
          hand_lndmarkdict_left[fn][landmark] = (hand_lndmarkdict_left[fn-1][landmark] + hand_lndmarkdict_left[fn+1][landmark])/2
    

    #Including  Case 4  Hand Landmarks #####################################################################################
    for fn in range(1,11):
      if (hand_lndmarkdict_right[fn-1]['None_pose'] == 1) and (hand_lndmarkdict_right[fn]['None_pose'] == 0) and (hand_lndmarkdict_right[fn+1]['None_pose'] == 0) and (hand_lndmarkdict_right[fn+2]['None_pose'] == 1):
        for landmark in hand_lndmarkdict_right[fn]:
          hand_lndmarkdict_right[fn][landmark] = (hand_lndmarkdict_right[fn-1][landmark] + hand_lndmarkdict_right[fn+2][landmark])/2
    
    for fn in range(1,11):
      if (hand_lndmarkdict_left[fn-1]['None_pose'] == 1) and (hand_lndmarkdict_left[fn]['None_pose'] == 0) and (hand_lndmarkdict_left[fn+1]['None_pose'] == 0) and (hand_lndmarkdict_left[fn+2]['None_pose'] == 1):
        for landmark in hand_lndmarkdict_left[fn]:
          hand_lndmarkdict_left[fn][landmark] = (hand_lndmarkdict_left[fn-1][landmark] + hand_lndmarkdict_left[fn+2][landmark])/2

    #Case 5 Hand Landmarks#####################################################################################
    if (hand_lndmarkdict_right[10]['None_pose'] == 1) and (hand_lndmarkdict_right[11]['None_pose'] == 0):
      for landmark in hand_lndmarkdict_right[11]:
        hand_lndmarkdict_right[11][landmark] = hand_lndmarkdict_right[10][landmark]
    
    if (hand_lndmarkdict_left[10]['None_pose'] == 1) and (hand_lndmarkdict_left[11]['None_pose'] == 0):
      for landmark in hand_lndmarkdict_left[11]:
        hand_lndmarkdict_left[11][landmark] = hand_lndmarkdict_left[10][landmark]
    #Case 5.1 Hand Landmarks#####################################################################################
    if (hand_lndmarkdict_right[12]['None_pose'] == 0) and (hand_lndmarkdict_right[11]['None_pose'] == 1):
      for landmark in hand_lndmarkdict_right[12]:
        hand_lndmarkdict_right[12][landmark] = hand_lndmarkdict_right[11][landmark]
    
    if (hand_lndmarkdict_left[12]['None_pose'] == 0) and (hand_lndmarkdict_left[11]['None_pose'] == 1):
      for landmark in hand_lndmarkdict_left[12]:
        hand_lndmarkdict_left[12][landmark] = hand_lndmarkdict_left[11][landmark]
    #Case 3 Hand Landmarks #####################################################################################
    for fn in range(1,12):
      if (hand_lndmarkdict_right[fn-1]['None_pose'] == 1) and (hand_lndmarkdict_right[fn]['None_pose'] == 0) and (hand_lndmarkdict_right[fn+1]['None_pose'] == 1):
        for landmark in hand_lndmarkdict_right[fn]:
          hand_lndmarkdict_right[fn][landmark] = (hand_lndmarkdict_right[fn-1][landmark] + hand_lndmarkdict_right[fn+1][landmark])/2
    
    for fn in range(1,12):
      if (hand_lndmarkdict_left[fn-1]['None_pose'] == 1) and (hand_lndmarkdict_left[fn]['None_pose'] == 0) and (hand_lndmarkdict_left[fn+1]['None_pose'] == 1):
        for landmark in hand_lndmarkdict_left[fn]:
          hand_lndmarkdict_left[fn][landmark] = (hand_lndmarkdict_left[fn-1][landmark] + hand_lndmarkdict_left[fn+1][landmark])/2
    #checking for continuous 3 null frames
    k=2
    i=2
    for image in sign_dir_lst:
      name = str(i)
      name = name.zfill(4)
      input_frame = cv2.imread(os.path.join(char_dir,aug_dir,sign_dir,image))
      if (hand_lndmarkdict_left[k]['None_pose'] == 0) and (hand_lndmarkdict_left[k+1]['None_pose'] == 0)   and (hand_lndmarkdict_left[k+2]['None_pose'] == 0) or (hand_lndmarkdict_right[k]['None_pose'] == 0) and (hand_lndmarkdict_right[k+1]['None_pose'] == 0) and (hand_lndmarkdict_right[k+2]['None_pose'] == 0):
        cv2.imwrite(os.path.join(os.path.join(dest_dir,aug_dir,sign_dir),name+".jpg"),input_frame)
      elif (hand_lndmarkdict_left[k]['None_pose'] == 0) and (hand_lndmarkdict_left[k+1]['None_pose'] == 0)   and (hand_lndmarkdict_left[k-1]['None_pose'] == 0) or (hand_lndmarkdict_right[k]['None_pose'] == 0) and (hand_lndmarkdict_right[k+1]['None_pose'] == 0) and (hand_lndmarkdict_right[k-1]['None_pose'] == 0):
        cv2.imwrite(os.path.join(os.path.join(dest_dir,aug_dir,sign_dir),name+".jpg"),input_frame)
      elif (hand_lndmarkdict_left[k]['None_pose'] == 0) and (hand_lndmarkdict_left[k-1]['None_pose'] == 0)   and (hand_lndmarkdict_left[k-2]['None_pose'] == 0) or (hand_lndmarkdict_right[k]['None_pose'] == 0) and (hand_lndmarkdict_right[k-1]['None_pose'] == 0) and (hand_lndmarkdict_right[k-2]['None_pose'] == 0):
        cv2.imwrite(os.path.join(os.path.join(dest_dir,aug_dir,sign_dir),name+".jpg"),input_frame)
      k = k + 1
      i = i + 1
      if k == 10:

        break 
    output=pd.DataFrame.from_dict(signdict, orient='index')
    output_df=pd.DataFrame.from_dict(pose_lndmarkdict, orient='index')
    output_df.drop('None_pose',axis='columns', inplace=True)
    #output_df
    output_df1=pd.DataFrame.from_dict(hand_lndmarkdict_right, orient='index')
    output_df1.drop('None_pose',axis='columns', inplace=True)
    #output_df1
    output_df2=pd.DataFrame.from_dict(hand_lndmarkdict_left, orient='index')
    output_df2.drop('None_pose',axis='columns', inplace=True)
    result1=output.join(output_df)
    #print(result1)
    result2=result1.join(output_df1)
    result=result2.join(output_df2)
    
    result.to_csv('/mnt/fs/dataset_creation/Arya_black_chudi_0000.csv', mode='a', header=False)
print("Done with Arya_black_chudi_0000")
